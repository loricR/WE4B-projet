{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/game.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/youtube-player\";\nconst _c0 = [\"youtubePlayer\"];\nconst _c1 = [\"youtubeVideo\"];\nconst _c2 = [\"carousel\"];\nfunction GamefullComponent_span_3_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 37);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const category_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(category_r4);\n  }\n}\nfunction GamefullComponent_span_3_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 38);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const category_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(category_r4);\n  }\n}\nfunction GamefullComponent_span_3_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 39);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const category_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(category_r4);\n  }\n}\nfunction GamefullComponent_span_3_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 40);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const category_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(category_r4);\n  }\n}\nfunction GamefullComponent_span_3_span_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 41);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const category_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(category_r4);\n  }\n}\nfunction GamefullComponent_span_3_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 42);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const category_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(category_r4);\n  }\n}\nfunction GamefullComponent_span_3_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 43);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const category_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(category_r4);\n  }\n}\nfunction GamefullComponent_span_3_span_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 44);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const category_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(category_r4);\n  }\n}\nfunction GamefullComponent_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 28);\n    i0.ɵɵtemplate(1, GamefullComponent_span_3_span_1_Template, 2, 1, \"span\", 29);\n    i0.ɵɵtemplate(2, GamefullComponent_span_3_span_2_Template, 2, 1, \"span\", 30);\n    i0.ɵɵtemplate(3, GamefullComponent_span_3_span_3_Template, 2, 1, \"span\", 31);\n    i0.ɵɵtemplate(4, GamefullComponent_span_3_span_4_Template, 2, 1, \"span\", 32);\n    i0.ɵɵtemplate(5, GamefullComponent_span_3_span_5_Template, 2, 1, \"span\", 33);\n    i0.ɵɵtemplate(6, GamefullComponent_span_3_span_6_Template, 2, 1, \"span\", 34);\n    i0.ɵɵtemplate(7, GamefullComponent_span_3_span_7_Template, 2, 1, \"span\", 35);\n    i0.ɵɵtemplate(8, GamefullComponent_span_3_span_8_Template, 2, 1, \"span\", 36);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r5 = ctx.index;\n    i0.ɵɵproperty(\"ngSwitch\", i_r5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", 2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", 3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", 4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", 5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", 6);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", 7);\n  }\n}\nconst _c3 = function () {\n  return {\n    autoplay: 1\n  };\n};\nclass GamefullComponent {\n  constructor(activatedroute, service) {\n    this.activatedroute = activatedroute;\n    this.service = service;\n    this.prd_idx = parseInt(this.activatedroute.snapshot.paramMap.get('id') || '0');\n    this.game = service.getPrdByIndex(this.prd_idx - 1);\n  }\n  ngOnInit() {}\n  ngAfterViewInit() {\n    this.onResize();\n    window.addEventListener('resize', this.onResize.bind(this)); //Call onResize everytime the window is resized\n    this.carousel?.nativeElement.addEventListener('slid.bs.carousel', this.onChangeItem.bind(this)); //slid when it has finished the transition, slide when it begins\n  }\n\n  onResize() {\n    if (this.youtubePlayer != null) {\n      //If the component exists\n      this.videoWidth = Math.min(this.youtubePlayer.nativeElement.clientWidth, 1200); //videoWidth = div size or 1200px if div larger\n      this.videoHeight = this.videoWidth * 0.6; //To keep the aspect ratio\n    }\n  }\n\n  onChangeItem() {\n    if (this.youtubePlayer?.nativeElement.classList.contains('active')) {\n      //If we are watching the video\n      this.youtubeVideo?.playVideo();\n    } else {\n      this.youtubeVideo?.pauseVideo();\n    }\n    this.onResize();\n  }\n}\nGamefullComponent.ɵfac = function GamefullComponent_Factory(t) {\n  return new (t || GamefullComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.GameService));\n};\nGamefullComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: GamefullComponent,\n  selectors: [[\"app-gamefull\"]],\n  viewQuery: function GamefullComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n      i0.ɵɵviewQuery(_c1, 5);\n      i0.ɵɵviewQuery(_c2, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.youtubePlayer = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.youtubeVideo = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.carousel = _t.first);\n    }\n  },\n  decls: 43,\n  vars: 12,\n  consts: [[1, \"container\"], [1, \"card-title\"], [3, \"ngSwitch\", 4, \"ngFor\", \"ngForOf\"], [\"id\", \"carouselIndicators\", 1, \"carousel\", \"slide\"], [\"carousel\", \"\"], [1, \"carousel-indicators\"], [\"type\", \"button\", \"data-bs-target\", \"#carouselIndicators\", \"data-bs-slide-to\", \"0\", \"aria-current\", \"true\", \"aria-label\", \"Slide 1\", 1, \"active\"], [\"type\", \"button\", \"data-bs-target\", \"#carouselIndicators\", \"data-bs-slide-to\", \"1\", \"aria-label\", \"Slide 2\"], [\"type\", \"button\", \"data-bs-target\", \"#carouselIndicators\", \"data-bs-slide-to\", \"2\", \"aria-label\", \"Slide 3\"], [1, \"carousel-inner\"], [1, \"carousel-item\", \"active\", \"text-center\"], [\"youtubePlayer\", \"\"], [3, \"videoId\", \"playerVars\", \"height\", \"width\"], [\"youtubeVideo\", \"\"], [1, \"carousel-item\"], [\"alt\", \"...\", 1, \"card-img-top\", 3, \"src\"], [\"type\", \"button\", \"data-bs-target\", \"#carouselIndicators\", \"data-bs-slide\", \"prev\", 1, \"carousel-control-prev\"], [\"aria-hidden\", \"true\", 1, \"carousel-control-prev-icon\"], [1, \"visually-hidden\"], [\"type\", \"button\", \"data-bs-target\", \"#carouselIndicators\", \"data-bs-slide\", \"next\", 1, \"carousel-control-next\"], [\"aria-hidden\", \"true\", 1, \"carousel-control-next-icon\"], [1, \"list-group\", \"list-group-flush\"], [1, \"list-group-item\"], [\"href\", \"#\", 1, \"card-link\"], [1, \"text-center\", \"list-group-item\"], [1, \"badge\", \"text-bg-warning\"], [1, \"text-center\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\"], [3, \"ngSwitch\"], [\"class\", \"badge rounded-pill text-bg-primary\", 4, \"ngSwitchCase\"], [\"class\", \"badge rounded-pill text-bg-secondary\", 4, \"ngSwitchCase\"], [\"class\", \"badge rounded-pill text-bg-success\", 4, \"ngSwitchCase\"], [\"class\", \"badge rounded-pill text-bg-danger\", 4, \"ngSwitchCase\"], [\"class\", \"badge rounded-pill text-bg-warning\", 4, \"ngSwitchCase\"], [\"class\", \"badge rounded-pill text-bg-info\", 4, \"ngSwitchCase\"], [\"class\", \"badge rounded-pill text-bg-light\", 4, \"ngSwitchCase\"], [\"class\", \"badge rounded-pill text-bg-dark\", 4, \"ngSwitchCase\"], [1, \"badge\", \"rounded-pill\", \"text-bg-primary\"], [1, \"badge\", \"rounded-pill\", \"text-bg-secondary\"], [1, \"badge\", \"rounded-pill\", \"text-bg-success\"], [1, \"badge\", \"rounded-pill\", \"text-bg-danger\"], [1, \"badge\", \"rounded-pill\", \"text-bg-warning\"], [1, \"badge\", \"rounded-pill\", \"text-bg-info\"], [1, \"badge\", \"rounded-pill\", \"text-bg-light\"], [1, \"badge\", \"rounded-pill\", \"text-bg-dark\"]],\n  template: function GamefullComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h5\", 1);\n      i0.ɵɵtext(2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(3, GamefullComponent_span_3_Template, 9, 9, \"span\", 2);\n      i0.ɵɵelementStart(4, \"div\", 3, 4)(6, \"div\", 5);\n      i0.ɵɵelement(7, \"button\", 6)(8, \"button\", 7)(9, \"button\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"div\", 9)(11, \"div\", 10, 11);\n      i0.ɵɵelement(13, \"youtube-player\", 12, 13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"div\", 14);\n      i0.ɵɵelement(16, \"img\", 15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"div\", 14);\n      i0.ɵɵelement(18, \"img\", 15);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(19, \"button\", 16);\n      i0.ɵɵelement(20, \"span\", 17);\n      i0.ɵɵelementStart(21, \"span\", 18);\n      i0.ɵɵtext(22, \"Previous\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(23, \"button\", 19);\n      i0.ɵɵelement(24, \"span\", 20);\n      i0.ɵɵelementStart(25, \"span\", 18);\n      i0.ɵɵtext(26, \"Next\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(27, \"ul\", 21)(28, \"li\", 22)(29, \"p\");\n      i0.ɵɵtext(30);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"a\", 23);\n      i0.ɵɵtext(32);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"p\");\n      i0.ɵɵtext(34, \"\\u2606\\u2606\\u2606\\u2606\\u2606\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"p\");\n      i0.ɵɵtext(36, \"Commentaires\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(37, \"li\", 24)(38, \"span\", 25);\n      i0.ɵɵtext(39);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(40, \"div\", 26)(41, \"button\", 27);\n      i0.ɵɵtext(42, \"Acheter\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.game.name);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.game.category);\n      i0.ɵɵadvance(10);\n      i0.ɵɵpropertyInterpolate(\"videoId\", ctx.game.videoCode);\n      i0.ɵɵproperty(\"playerVars\", i0.ɵɵpureFunction0(11, _c3))(\"height\", ctx.videoHeight)(\"width\", ctx.videoWidth);\n      i0.ɵɵadvance(3);\n      i0.ɵɵpropertyInterpolate(\"src\", ctx.game.image, i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(2);\n      i0.ɵɵpropertyInterpolate(\"src\", ctx.game.image, i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(12);\n      i0.ɵɵtextInterpolate(ctx.game.longDescription);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.game.developer);\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate1(\"\", ctx.game.price, \"\\u20AC\");\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgSwitch, i3.NgSwitchCase, i4.YouTubePlayer],\n  styles: [\".carousel-control-prev-icon[_ngcontent-%COMP%] {\\r\\n    background-image: url(\\\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23000'><path d='M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z'/></svg>\\\") !important;\\r\\n}\\r\\n\\r\\n.carousel-control-next-icon[_ngcontent-%COMP%] {   \\r\\n    background-image: url(\\\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23000'><path d='M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z'/></svg>\\\") !important;\\r\\n}\\r\\n\\r\\n\\r\\n.carousel-indicators[_ngcontent-%COMP%] {\\r\\n    margin-bottom: -20px;\\r\\n}\\r\\n\\r\\n\\r\\n.carousel-control-prev[_ngcontent-%COMP%] {\\r\\n    margin-left: -120px;\\r\\n}\\r\\n\\r\\n\\r\\n.carousel-control-next[_ngcontent-%COMP%] {\\r\\n    margin-right: -120px;\\r\\n}\\r\\n\\r\\n\\r\\n.carousel-indicators[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\r\\n    background-color: black;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdmlld3MvZ2FtZWZ1bGwvZ2FtZWZ1bGwuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0Esb0NBQW9DO0FBQ3BDO0lBQ0ksd1FBQXdRO0FBQzVRO0FBQ0Esb0NBQW9DO0FBQ3BDO0lBQ0kseVFBQXlRO0FBQzdROztBQUVBLDJDQUEyQztBQUMzQztJQUNJLG9CQUFvQjtBQUN4Qjs7QUFFQSw2Q0FBNkM7QUFDN0M7SUFDSSxtQkFBbUI7QUFDdkI7O0FBRUEsNkNBQTZDO0FBQzdDO0lBQ0ksb0JBQW9CO0FBQ3hCOztBQUVBLHFDQUFxQztBQUNyQztJQUNJLHVCQUF1QjtBQUMzQiIsInNvdXJjZXNDb250ZW50IjpbIlxyXG4vKkNoYW5nZSB0aGUgaWNvbiBvZiB0aGUgcHJldiBhcnJvdyovXHJcbi5jYXJvdXNlbC1jb250cm9sLXByZXYtaWNvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCJkYXRhOmltYWdlL3N2Zyt4bWwsPHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAxNiAxNicgZmlsbD0nJTIzMDAwJz48cGF0aCBkPSdNMTEuMzU0IDEuNjQ2YS41LjUgMCAwIDEgMCAuNzA4TDUuNzA3IDhsNS42NDcgNS42NDZhLjUuNSAwIDAgMS0uNzA4LjcwOGwtNi02YS41LjUgMCAwIDEgMC0uNzA4bDYtNmEuNS41IDAgMCAxIC43MDggMHonLz48L3N2Zz5cIikgIWltcG9ydGFudDtcclxufVxyXG4vKkNoYW5nZSB0aGUgaWNvbiBvZiB0aGUgbmV4dCBhcnJvdyovXHJcbi5jYXJvdXNlbC1jb250cm9sLW5leHQtaWNvbiB7ICAgXHJcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCJkYXRhOmltYWdlL3N2Zyt4bWwsPHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAxNiAxNicgZmlsbD0nJTIzMDAwJz48cGF0aCBkPSdNNC42NDYgMS42NDZhLjUuNSAwIDAgMSAuNzA4IDBsNiA2YS41LjUgMCAwIDEgMCAuNzA4bC02IDZhLjUuNSAwIDAgMS0uNzA4LS43MDhMMTAuMjkzIDggNC42NDYgMi4zNTRhLjUuNSAwIDAgMSAwLS43MDh6Jy8+PC9zdmc+XCIpICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi8qRGlzcGxheSB0aGUgaW5kaWNhdG9ycyBiZWxvdyB0aGUgY29udGVudCovXHJcbi5jYXJvdXNlbC1pbmRpY2F0b3JzIHtcclxuICAgIG1hcmdpbi1ib3R0b206IC0yMHB4O1xyXG59XHJcblxyXG4vKkRpc3BsYXkgdGhlIHByZXYgYXJyb3cgb3V0c2lkZSB0aGUgY29udGVudCovXHJcbi5jYXJvdXNlbC1jb250cm9sLXByZXYge1xyXG4gICAgbWFyZ2luLWxlZnQ6IC0xMjBweDtcclxufVxyXG5cclxuLypEaXNwbGF5IHRoZSBwcmV2IGFycm93IG91dHNpZGUgdGhlIGNvbnRlbnQqL1xyXG4uY2Fyb3VzZWwtY29udHJvbC1uZXh0IHtcclxuICAgIG1hcmdpbi1yaWdodDogLTEyMHB4O1xyXG59XHJcblxyXG4vKkNoYW5nZSB0aGUgY29sb3Igb2YgdGhlIGluZGljYXRvcnMqL1xyXG4uY2Fyb3VzZWwtaW5kaWNhdG9ycyBidXR0b24ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XHJcbn1cclxuXHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});\nexport { GamefullComponent };","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","category_r4","ɵɵtemplate","GamefullComponent_span_3_span_1_Template","GamefullComponent_span_3_span_2_Template","GamefullComponent_span_3_span_3_Template","GamefullComponent_span_3_span_4_Template","GamefullComponent_span_3_span_5_Template","GamefullComponent_span_3_span_6_Template","GamefullComponent_span_3_span_7_Template","GamefullComponent_span_3_span_8_Template","ɵɵproperty","i_r5","GamefullComponent","constructor","activatedroute","service","prd_idx","parseInt","snapshot","paramMap","get","game","getPrdByIndex","ngOnInit","ngAfterViewInit","onResize","window","addEventListener","bind","carousel","nativeElement","onChangeItem","youtubePlayer","videoWidth","Math","min","clientWidth","videoHeight","classList","contains","youtubeVideo","playVideo","pauseVideo","ɵɵdirectiveInject","i1","ActivatedRoute","i2","GameService","selectors","viewQuery","GamefullComponent_Query","rf","ctx","GamefullComponent_span_3_Template","ɵɵelement","name","category","ɵɵpropertyInterpolate","videoCode","ɵɵpureFunction0","_c3","image","ɵɵsanitizeUrl","longDescription","developer","ɵɵtextInterpolate1","price"],"sources":["C:\\UTBM\\INFO02\\WE4B\\Projet\\frontend\\src\\app\\views\\gamefull\\gamefull.component.ts","C:\\UTBM\\INFO02\\WE4B\\Projet\\frontend\\src\\app\\views\\gamefull\\gamefull.component.html"],"sourcesContent":["import { ChangeDetectorRef, Component, ElementRef, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { YouTubePlayer } from '@angular/youtube-player';\r\nimport { Game } from 'src/app/models/game';\r\nimport { GameService } from 'src/app/services/game.service';\r\n\r\n@Component({\r\n  selector: 'app-gamefull',\r\n  templateUrl: './gamefull.component.html',\r\n  styleUrls: ['./gamefull.component.css']\r\n})\r\n\r\nexport class GamefullComponent {\r\n  public prd_idx : number\r\n  public game : Game\r\n  @ViewChild('youtubePlayer') youtubePlayer: ElementRef | undefined;\r\n  videoHeight: number | undefined;\r\n  videoWidth: number | undefined;\r\n  @ViewChild('youtubeVideo') youtubeVideo: YouTubePlayer | undefined;\r\n  @ViewChild('carousel') carousel: ElementRef | undefined;\r\n\r\n  constructor(private activatedroute : ActivatedRoute, private service : GameService) { \r\n    this.prd_idx = parseInt(this.activatedroute.snapshot.paramMap.get('id') || '0')\r\n    this.game = service.getPrdByIndex(this.prd_idx-1)\r\n  }\r\n    \r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.onResize();\r\n    window.addEventListener('resize', this.onResize.bind(this));  //Call onResize everytime the window is resized\r\n\r\n    this.carousel?.nativeElement.addEventListener('slid.bs.carousel', this.onChangeItem.bind(this)); //slid when it has finished the transition, slide when it begins\r\n\r\n  }\r\n\r\n  onResize(): void {\r\n    if(this.youtubePlayer != null) {  //If the component exists\r\n      this.videoWidth = Math.min(this.youtubePlayer.nativeElement.clientWidth, 1200); //videoWidth = div size or 1200px if div larger\r\n\r\n      this.videoHeight = this.videoWidth * 0.6; //To keep the aspect ratio\r\n    }\r\n  }\r\n\r\n  onChangeItem(): void {\r\n    if(this.youtubePlayer?.nativeElement.classList.contains('active')) {  //If we are watching the video\r\n      this.youtubeVideo?.playVideo();\r\n    } \r\n    else {\r\n      this.youtubeVideo?.pauseVideo();\r\n    }\r\n    this.onResize();\r\n  }\r\n}","<div class=\"container\">\r\n    <h5 class=\"card-title\">{{game.name}}</h5>\r\n    <span *ngFor=\"let category of game.category; let i = index;\" [ngSwitch]=\"i\">    <!--Category-->\r\n        <span *ngSwitchCase=\"0\" class=\"badge rounded-pill text-bg-primary\">{{category}}</span>\r\n        <span *ngSwitchCase=\"1\" class=\"badge rounded-pill text-bg-secondary\">{{category}}</span>\r\n        <span *ngSwitchCase=\"2\" class=\"badge rounded-pill text-bg-success\">{{category}}</span>\r\n        <span *ngSwitchCase=\"3\" class=\"badge rounded-pill text-bg-danger\">{{category}}</span>\r\n        <span *ngSwitchCase=\"4\" class=\"badge rounded-pill text-bg-warning\">{{category}}</span>\r\n        <span *ngSwitchCase=\"5\" class=\"badge rounded-pill text-bg-info\">{{category}}</span>\r\n        <span *ngSwitchCase=\"6\" class=\"badge rounded-pill text-bg-light\">{{category}}</span>\r\n        <span *ngSwitchCase=\"7\" class=\"badge rounded-pill text-bg-dark\">{{category}}</span>\r\n    </span>\r\n\r\n    <div #carousel id=\"carouselIndicators\" class=\"carousel slide\">\r\n        <div class=\"carousel-indicators\">\r\n            <button type=\"button\" data-bs-target=\"#carouselIndicators\" data-bs-slide-to=\"0\" class=\"active\" aria-current=\"true\" aria-label=\"Slide 1\"></button>\r\n            <button type=\"button\" data-bs-target=\"#carouselIndicators\" data-bs-slide-to=\"1\" aria-label=\"Slide 2\"></button>\r\n            <button type=\"button\" data-bs-target=\"#carouselIndicators\" data-bs-slide-to=\"2\" aria-label=\"Slide 3\"></button>\r\n        </div>\r\n        <div class=\"carousel-inner\">\r\n            <div #youtubePlayer class=\"carousel-item active text-center\">\r\n                <youtube-player #youtubeVideo videoId=\"{{game.videoCode}}\" [playerVars]=\"{autoplay: 1}\" [height]=\"videoHeight\" [width]=\"videoWidth\"></youtube-player> <!--Presentation video-->\r\n            </div>\r\n            <div class=\"carousel-item\">\r\n                <img src=\"{{game.image}}\" class=\"card-img-top\" alt=\"...\">   <!--Image-->\r\n            </div>\r\n            <div class=\"carousel-item\">\r\n                <img src=\"{{game.image}}\" class=\"card-img-top\" alt=\"...\">   <!--Image 2-->\r\n            </div>\r\n        </div>\r\n        <button class=\"carousel-control-prev\" type=\"button\" data-bs-target=\"#carouselIndicators\" data-bs-slide=\"prev\">\r\n            <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n            <span class=\"visually-hidden\">Previous</span>\r\n        </button>\r\n        <button class=\"carousel-control-next\" type=\"button\" data-bs-target=\"#carouselIndicators\" data-bs-slide=\"next\">\r\n            <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n            <span class=\"visually-hidden\">Next</span>\r\n        </button>\r\n    </div>\r\n\r\n    <ul class=\"list-group list-group-flush\">\r\n        <li class=\"list-group-item\">\r\n            <p>{{game.longDescription}}</p>   <!--Description-->\r\n            <a href=\"#\" class=\"card-link\">{{game.developer}}</a>    <!--Developer name-->\r\n            <p>☆☆☆☆☆</p>\r\n            <p>Commentaires</p>\r\n        </li>\r\n        <li class=\"text-center list-group-item\">\r\n            <span class=\"badge text-bg-warning\">{{game.price}}€</span>  <!--Price-->\r\n        </li>\r\n    </ul>\r\n    <div class=\"text-center\">\r\n        <button type=\"button\" class=\"btn btn-primary\">Acheter</button>  <!--Buy the game-->    \r\n    </div>\r\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}